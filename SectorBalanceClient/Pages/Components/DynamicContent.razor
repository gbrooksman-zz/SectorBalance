@page "/dynamiccontent"
@inject AppStateContainer state
@inject HttpClient httpClient
@using SectorBalanceClient
@using System.Linq
@using Microsoft.AspNetCore.Components
@using SectorBalanceClient.Entities

<div class="container-fluid">
    <div class="row">
      @ShowContent(ContentId)
    </div>
</div>

@code
{
    [Parameter]
    public string ContentId { get; set; }

    RenderFragment BuildContent(string paramIn) => builder =>
    {       
        var items = state.ContentItemList;

        foreach(var item in items)
        {
            if (item.Id == paramIn)
            {
                builder.OpenElement(1, "p");
                builder.AddContent(2,item.Title);
                builder.CloseElement();

                builder.OpenElement(1, "p");
                builder.AddContent(2,item.Text);
                builder.CloseElement();
            }
        }
    };

    public RenderFragment ShowContent(string paramIn)
    {
        RenderFragment frag = null;

        frag = BuildContent(paramIn);

        return frag;

    }   
}
